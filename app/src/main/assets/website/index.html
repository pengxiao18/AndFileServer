<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Android File Server</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Android 文件服务</h1>

<div class="toolbar">
    <div class="path-controls">
        <label>路径：</label>
        <input id="p" value="{{rootDir}}" />
        <button onclick="load()">列出</button>
    </div>
    <div class="actions">
        <input type="file" id="file" multiple/>
        <button onclick="upload()">上传</button>
        <button onclick="mkdir()">新建文件夹</button>
        <div class="view-toggle" role="group" aria-label="切换视图">
            <button id="btnList" title="列表视图" aria-pressed="true" onclick="switchView('list')">列表</button>
            <button id="btnGrid" title="网格视图" aria-pressed="false" onclick="switchView('grid')">网格</button>
        </div>
    </div>
</div>

<!-- 列表视图 -->
<table id="tbl" class="view view-list">
    <thead>
    <tr>
        <th>名称</th>
        <th>修改时间</th>
        <th>大小</th>
        <th>下载</th>
        <th>删除</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- 网格视图 -->
<div id="grid" class="view view-grid file-grid"></div>

<script>
    // 由服务器在返回时把 __TOKEN__ 替换成真实 token
    window.token = "__TOKEN__";
    window.diskDir = "{{rootDir}}"
</script>
<script src="main.js"></script>
</body>
</html>
